ORG 0000H

ACALL LCD_INIT
MOV DPTR, #MESSAGE

PRINT:
    MOV A, #00H
    MOVC A, @A+DPTR
    JZ HALT
    ACALL LCD_DATA
    INC DPTR
    SJMP PRINT

HALT:
    SJMP HALT

LCD_INIT:
    MOV A, #38H
    ACALL COMMAND
    MOV A, #0EH
    ACALL COMMAND
    MOV A, #01H
    ACALL COMMAND
    ACALL DELAY
    RET

COMMAND:
    ACALL DELAY
    MOV P1, A
    CLR P2.0
    SETB P2.1
    CLR P2.1
    RET

LCD_DATA:
    ACALL DELAY
    MOV P1, A
    SETB P2.0
    SETB P2.1
    CLR P2.1
    RET

DELAY:
    MOV R1, #0FFH
LOOP1:
    MOV R2, #0FFH
LOOP2:
    DJNZ R2, LOOP2
    DJNZ R1, LOOP1
    RET

MESSAGE:
    DB 'ABC123', 00H

END
